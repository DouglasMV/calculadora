{"version":3,"sources":["src/js/view/operacaoAnterior.js","src/js/controllers/validacoes/caracteresValidos.js","src/js/controllers/validacoes/validarCaracteres.js","src/js/controllers/validacoes/validarParenteses.js","src/js/controllers/validar.js","src/js/controllers/stringEval.js","src/js/controllers/igual.js","src/js/controllers/codesTeclas.js","src/js/view/operacaoAtual.js","src/js/view/expressaoInvalida.js","src/js/view/tela.js","src/js/controllers/escreverNaTela.js","src/js/controllers/limparTela.js","src/js/controllers/deletar.js","src/js/controllers/apertouTecla.js","src/js/view/criarTecla.js","src/js/view/teclas.js","src/js/view/calculadora.js","src/js/app.js"],"names":["operacaoAnterior","document","createElement","classList","add","caracteresValidos","validarCaracteres","operacao","operacaoArray","split","i","length","includes","console","log","validarParenteses","stack","push","pop","validar","stringEval","string","tempArr","raizes","arr","map","element","index","numeric","forEach","posicao","indice","findIndex","splice","str","join","igual","operacaoAtual","querySelector","expressaoInvalida","setAttribute","value","evalThisString","resultado","eval","textContent","remove","focus","codesTeclas","addEventListener","event","key","code","preventDefault","tela","append","escreverNaTela","valor","getAttribute","contains","limparTela","deletar","texto","substr","apertouTecla","target","criarTecla","tecla","teclas","calculadora","teclaCriada","root","getElementById"],"mappings":"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","file":"app.381e5139.js","sourceRoot":"..","sourcesContent":["export const operacaoAnterior = document.createElement('div')\noperacaoAnterior.classList.add('operacaoAnterior')\n","export const caracteresValidos = [\n  '7',\n  '8',\n  '9',\n  '÷',\n  '4',\n  '5',\n  '6',\n  '×',\n  '(',\n  ')',\n  '1',\n  '2',\n  '3',\n  '-',\n  '²',\n  '√',\n  '0',\n  '.',\n  '%',\n  '+'\n]\n","import { caracteresValidos } from './caracteresValidos.js'\n\nexport const validarCaracteres = operacao => {\n  const operacaoArray = operacao.split('')\n  for (let i = 0; i < operacaoArray.length; i++) {\n    if (!caracteresValidos.includes(operacaoArray[i])) {\n      console.log('invalido')\n      return false\n    }\n  }\n  return true\n}\n","export function validarParenteses (operacao) {\n  const stack = []\n  for (let i = 0; i < operacao.length; i++) {\n    if (operacao[i] === '(') {\n      stack.push('(')\n    } else if (operacao[i] === ')') {\n      if (stack.length === 0) {\n        return false\n      } else {\n        stack.pop()\n      }\n    }\n  }\n\n  return !stack.length\n}\n","import { validarCaracteres } from './validacoes/validarCaracteres.js'\n// import { validarOperadores } from './validacoes/validarOperdaores.js'\nimport { validarParenteses } from './validacoes/validarParenteses.js'\n\nexport function validar (operacao) {\n  return validarCaracteres(operacao) && validarParenteses(operacao)\n}\n","export const stringEval = string => {\n  const tempArr = string.split('')\n  const raizes = []\n  const arr = tempArr.map((element, index) => {\n    if (element === '÷') {\n      return '/'\n    }\n    if (element === '×') {\n      return '*'\n    }\n    if (element === '²') {\n      return '**2'\n    }\n    if (element === '%') {\n      return '/100'\n    }\n    if (element === '√') {\n      raizes.push(index)\n      return 'Math.sqrt('\n    }\n    return element\n  })\n\n  console.log(arr)\n\n  const numeric = [\n    '0',\n    '1',\n    '2',\n    '3',\n    '4',\n    '5',\n    '6',\n    '7',\n    '8',\n    '9',\n    '.',\n    'Math.sqrt('\n  ]\n\n  raizes.forEach(posicao => {\n    let indice = arr.findIndex((element, index) => {\n      if (index > posicao && !numeric.includes(element)) {\n        return true\n      }\n      return false\n    })\n    if (indice === -1) {\n      arr.push(')')\n    } else {\n      arr.splice(indice, 0, ')')\n    }\n  })\n\n  const str = arr.join('')\n  console.log(str)\n  return str\n}\n","import { validar } from './validar.js'\nimport { stringEval } from './stringEval.js'\n\nexport const igual = () => {\n  const operacaoAtual = document.querySelector('.operacaoAtual')\n  const operacaoAnterior = document.querySelector('.operacaoAnterior')\n  const expressaoInvalida = document.querySelector('.expressaoInvalida')\n  operacaoAtual.setAttribute('data-resultado', 'true')\n  const operacao = operacaoAtual.value\n  if (!validar(operacao)) {\n    expressaoInvalida.classList.add('displayBlock')\n    expressaoInvalida.classList.remove('displayNone')\n  } else {\n    try {\n      const evalThisString = stringEval(operacao)\n      const resultado = eval(evalThisString)\n      operacaoAtual.value = resultado\n      operacaoAnterior.textContent = operacao\n    } catch {\n      expressaoInvalida.classList.add('displayBlock')\n      expressaoInvalida.classList.remove('displayNone')\n    }\n    document.querySelector('.operacaoAtual').focus()\n  }\n}\n","export const codesTeclas = [\n  'Numpad0',\n  'Numpad1',\n  'Numpad2',\n  'Numpad3',\n  'Numpad4',\n  'Numpad5',\n  'Numpad6',\n  'Numpad7',\n  'Numpad8',\n  'Numpad9',\n  'Backspace',\n  'NumpadComma',\n  'NumpadAdd',\n  'NumpadSubtract',\n  'Delete',\n  'Home',\n  'End',\n  'Enter',\n  'NumpadEnter',\n  'NumpadMultiply',\n  'NumpadDivide'\n]\n","import { igual } from '../controllers/igual.js'\nimport { codesTeclas } from '../controllers/codesTeclas.js'\n\nexport const operacaoAtual = document.createElement('input')\noperacaoAtual.classList.add('operacaoAtual')\noperacaoAtual.setAttribute('type', 'text')\noperacaoAtual.setAttribute('autofocus', true)\noperacaoAtual.setAttribute('data-resultado', 'false')\noperacaoAtual.addEventListener('keydown', event => {\n  const key = event.code\n  if (codesTeclas.includes(key)) {\n    switch (key) {\n      case 'Enter':\n      case 'NumpadEnter':\n        igual()\n        break\n      case 'NumpadMultiply':\n        event.preventDefault()\n        operacaoAtual.value += '×'\n        break\n      case 'NumpadDivide':\n        event.preventDefault()\n        operacaoAtual.value += '÷'\n        break\n    }\n  } else {\n    event.preventDefault()\n  }\n})\n","export const expressaoInvalida = document.createElement('div')\nexpressaoInvalida.classList.add('expressaoInvalida')\nexpressaoInvalida.classList.add('displayNone')\nexpressaoInvalida.textContent = \"Expressão Inválida!\"\n","import { operacaoAnterior } from './operacaoAnterior.js'\nimport { operacaoAtual } from './operacaoAtual.js'\nimport { expressaoInvalida } from './expressaoInvalida.js'\n\nexport const tela = document.createElement('div')\ntela.classList.add('tela')\ntela.append(operacaoAnterior)\ntela.append(operacaoAtual)\ntela.append(expressaoInvalida)\n","export const escreverNaTela = valor => {\n  const operacaoAtual = document.querySelector('.operacaoAtual')\n\n  if (operacaoAtual.getAttribute('data-resultado') === 'true') {\n    const expressaoInvalida = document.querySelector('.expressaoInvalida')\n\n    if (\n      !['+', '-', '×', '÷', '²', '%'].includes(valor) ||\n      expressaoInvalida.classList.contains('displayBlock')\n    ) {\n      operacaoAtual.value = ''\n    }\n\n    operacaoAtual.setAttribute('data-resultado', 'false')\n\n    expressaoInvalida.classList.remove('displayBlock')\n    expressaoInvalida.classList.add('displayNone')\n  }\n  document.querySelector('.operacaoAtual').focus()\n  operacaoAtual.value += valor\n}\n","export const limparTela = () => {\n  const operacaoAtual = document.querySelector('.operacaoAtual')\n  operacaoAtual.value = ''\n  const expressaoInvalida = document.querySelector('.expressaoInvalida')\n  expressaoInvalida.classList.remove('displayBlock')\n  expressaoInvalida.classList.add('displayNone')\n  document.querySelector('.operacaoAtual').focus()\n}\n","export const deletar = () => {\n  const operacaoAtual = document.querySelector('.operacaoAtual')\n  const texto = operacaoAtual.value\n  operacaoAtual.value = texto.substr(0, texto.length - 1)\n\n  const expressaoInvalida = document.querySelector('.expressaoInvalida')\n  expressaoInvalida.classList.remove('displayBlock')\n  expressaoInvalida.classList.add('displayNone')\n  document.querySelector('.operacaoAtual').focus()\n}\n","import { escreverNaTela } from './escreverNaTela.js'\nimport { igual } from './igual.js'\nimport { limparTela } from './limparTela.js'\nimport { deletar } from './deletar.js'\n\nexport const apertouTecla = event => {\n  const operacao = event.target.textContent\n\n  switch (operacao) {\n    case '=':\n      igual()\n      break\n    case 'C':\n      limparTela()\n      break\n    case 'del':\n      deletar()\n      break\n    case 'x²':\n      escreverNaTela('²')\n      break\n    default:\n      escreverNaTela(operacao)\n  }\n}\n","import { apertouTecla } from '../controllers/apertouTecla.js'\n\nexport const criarTecla = valor => {\n  const tecla = document.createElement('button')\n  tecla.textContent = valor\n  tecla.classList.add('tecla')\n  tecla.addEventListener('click', apertouTecla)\n  if (tecla.textContent === '=') {\n    tecla.classList.add('igual')\n  }\n  return tecla\n}\n","export const teclas = [ '7', '8', '9', '÷', 'del', 'C',\n                        '4', '5', '6', '×', '(',   ')',\n                        '1', '2', '3', '-', 'x²',  '√',\n                        '0', '.', '%', '+', '='\n                      ]\n","import { tela } from './tela.js'\nimport { criarTecla } from './criarTecla.js'\nimport { teclas } from './teclas.js'\n\nexport const calculadora = document.createElement('div')\n\ncalculadora.classList.add('calculadora')\ncalculadora.append(tela)\n\nteclas.forEach(tecla => {\n  const teclaCriada = criarTecla(tecla)\n  calculadora.append(teclaCriada)\n})\n","import { calculadora } from './view/calculadora.js'\n\nconst root = document.getElementById('root')\n\nroot.append(calculadora)\n\n// window.onload = function () {\n//   document.querySelector('.operacaoAtual').focus();\n// };"]}